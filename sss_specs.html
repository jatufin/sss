<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
       "http://www.w3.org/TR/html4/loose.dtd">
<html>
<Head>
<title>Simple Script Security - Specifications</title>

<style type="text/css">
body { font-family : sans-serif; color : black; background : white }
h2,h3,h4 { background : #FFEECC }


td { font-family : sans-serif ; font-size : 80% }

th, td.hd, p.imgtxt { background: #EEEEEE  ; font-family : sans-serif ; font-size : 70% ; font-weight : bold ; text-align : left }

div.expl { border-width : 1 ; width : 60% }
</style>



</head>

<body>

<h1>Simple Script Security - Specifications</h1>

<p>
This doesn't give you ultimately accurate picture of the product, but only shows how it works and how you could use it. For details you better have to examine the source code files. (Hey, there's even some comments there!)
</p>

<p>
<a href="index.html">Back to main page.</a>
</p>

<hr>

<h3>Programming interface</h3>

<p>
For use in your own applications, the following functions are most usable:
</p>

<div class="expl">
<p><code>
encrypt(inStr,psw)
</code></p>
<p>
First argument is plaintext string containing data to be encrypted. Second argument is password to use as key. Function returns encrypted data as hexadecimal encoded string.
</p>

<p><code>
decrypt(inStr,psw)
</code></p>
<p>
First argument is encrypted hex encoded string (returned by <code>encrypt()</code> function) and second argument is the password. Return value is original plain text string.
</p>
</div>

<br>

<div class="expl">
<p><code>
encryptToArray(str,psw)
</code></p>
<p>
Encrypts given string to array of strings. This slicing of original data to smaller pieces increases speed and reduces memory usage. Most JavaScript implementations are somewhat unefficient in string handling.
</p>

<p><code>
decryptArray(inA, psw)
</code></p>
<p>
Decrypts given array (returned by <code>encryptToArray()</code>) to plain text.
</p>
</div>

<br>

<div class="expl">
<p><code>
openInNewWindow(inStr,psw)
</code></p>
<p>
Decrypts ciphertext given in first argument with password given as second argument. Opens new browser window and writes decrypted text to it.
</p>

<p><code>
openInSameWindow(inStr,psw)
</code></p>
<p>
Decrypts ciphertext given in first argument with password given as second argument. Clears current browser window and writes decrypted text to it.
</p>
</div>

<br>

<div class="expl">
<h4>Methods added to Array prototype</h4>
<p><code>
Array.arraySwap(i,j)
</code></p>
<p>
Swaps two items in the array, indexed as <code>i</code> and  <code>j</code>.
</p>

<p><code>
Array.arrayPrintSrc(variableName)
</code></p>
<p>
Exports array as JavaScript source code. Argument is a string giving a name for the variable created.
</p>
<p>
If we have an array myArray containing items "A", "B" and "C", the function call <code>myArray.arrayPrintSrc("someName")</code> returns following string:
</p>
<p>
<code>
var someName = new Array(3);someName[0] = 'A';someName[1] = 'B';someName[2] = 'C';
</code>
</p>
<p>
Please don't ask me explain why is this done in so queer way. I know there was some reason for it, but I really can't remember it anymore. And of cource this is the one function without any comments in the source ;)
</p>
</div>

<hr>

<h3>Encrypting scheme used by encryptToArray() function:</h3>

<p class="imgtxt">
Phase 1.
</p>
<img src="images/spec1.gif" width="948" height="217">


<p class="imgtxt">
Phase 2.
</p>
<img src="images/spec2.gif" width="948" height="265">

<p class="imgtxt">
Phase 3.
</p>
<img src="images/spec3.gif" width="948" height="289">

<p class="imgtxt">
Phase 4.
</p>
<img src="images/spec4.gif" width="948" height="313">

<p class="imgtxt">
Phase 5.
</p>
<img src="images/spec5.gif" width="948" height="241">


</body>
</html>